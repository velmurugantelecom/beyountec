<div class="row m-0 p-0">
    <div class="col-md-10 col-9">
        <h5 style="display: flex;align-content: center;">{{data.QType}} </h5>
    </div>
    <div class="col-md-2 col-3 custom-cursor" (click)="onNoClick()">
        <mat-icon>
            close
        </mat-icon>
    </div>
</div>
<mat-divider></mat-divider>


<mat-vertical-stepper class="m-3" #stepper>
    <!--  -->
    <mat-step [stepControl]="quoteForm" class="m-2">
        <form [formGroup]="quoteForm" focusInvalidInput autocomplete="off" class="mt-2">
            <ng-template matStepLabel>Fill out  Quote No.</ng-template>
            

            <div>
                <mat-form-field appearance="outline">
                    <mat-label>{{ data.QTitle }}</mat-label>
                    <input [(ngModel)]="dialogeDetails" matInput placeholder="Enter Full Quote No" formControlName="type" required maxlength="50">
                    <mat-error *ngIf="quoteForm.controls.type.errors && quoteForm.controls.type.errors.required">
                       Full Quote No is required</mat-error>
                </mat-form-field>
            </div>


            <div class="d-flex justify-content-center">
                <button (click)="sendEmail(stepper)" class="btn btn-home button fwhite bggreen centercss">Get OTP</button>
            </div>


        </form>
    </mat-step>


    <mat-step class="m-2">
        <form [formGroup]="OtpForm">
            <ng-template matStepLabel>Fill out your OTP</ng-template>
            <div *ngIf="isCompleted">
                <div class="centertext fgreen p-1">
                    <div>We've sent you an OTP. Check your email and enter below
                    </div>
                </div>

                <div>
                    <mat-form-field appearance="outline">
                        <mat-label> OTP </mat-label>
                        <input matInput placeholder="Enter OTP" formControlName="otp" required>
                        <mat-error *ngIf="OtpForm.controls.otp.errors && OtpForm.controls.otp.errors.required">
                            OTP is required</mat-error>
                    </mat-form-field>
                </div>

                <div class="d-flex justify-content-between">
                    <div>OTP Expires in {{minutes}}m:{{seconds}}s</div>
                </div>

                <div class="d-flex justify-content-center">
                    <button matStepperNext (click)="verifyOtp()" class="m-2 btn btn-home button fwhite bggreen centercss">Verify OTP</button>
                    <button (click)="sendEmail(stepper)" class="btn btn-home m-2 bggreen fwhite centercss button">Resend OTP?</button>
                </div>
            </div>
            <div *ngIf="!isCompleted">
                Please complete previous step.
            </div>
        </form>


    </mat-step>

</mat-vertical-stepper>